{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46850539-7e4ca2d811908faae801b6294';\nconst baseURL = \"https://pixabay.com/api/\";\n\nexport function fetchData(userInput, page = 1, per_page = 200) { \n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: userInput,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    page,\n    per_page\n  });\n\n  const url = `${baseURL}?${params.toString()}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    });\n}\n\n","// webformatURL — посилання на маленьке зображення для списку карток у галереї\n// largeImageURL — посилання на велике зображення для модального вікна\n// tags — рядок з описом зображення. Підійде для атрибута alt\n// likes — кількість вподобайок\n// views — кількість переглядів\n// comments — кількість коментарів\n// downloads — кількість завантажень\n\n\nexport function createGallery(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery_item\" >\n            <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360px\" >\n        </a>\n            <div class=\"gallery_data\">\n            <table>\n    <tr>\n    <th>Likes</th>\n    <th>Views</th>\n    <th>Comments</th>\n    <th>Downloads</th>\n  </tr>\n  <tr>\n    <td>${likes}</td>\n    <td>${views}</td>\n    <td>${comments}</td>\n    <td>${downloads}</td>\n  </tr>\n \n</table>\n</div>\n\n        </li>\n    `).join(\"\");\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchData } from './js/pixabay-api';\nimport { createGallery } from './js/render-functions'\n\nconst form = document.querySelector(\".input-forme\");\nconst container = document.querySelector(\".gallery\");\n\nform.addEventListener(\"submit\", handleSubmit);\n\nlet currentPage = 1;\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    const userInput = document.querySelector('#input-user').value.trim();\n\n    if (userInput === '') {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search term.',\n        });\n        return;\n    }\n\n    \n    container.innerHTML = '';\n\n    fetchData(userInput.toLowerCase(), currentPage, 200)\n        .then(data => {\n            console.log('API Response:', data);\n            if (data.totalHits > 0) {\n                container.insertAdjacentHTML(\"beforeend\", createGallery(data.hits));\n                \n                const lightbox = new SimpleLightbox('.gallery a', {\n                    captionsData: 'alt',\n                    captionDelay: 250,\n                });\n                lightbox.refresh(); \n                \n            } else {\n                iziToast.info({\n                    title: 'No Results',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: 'Error fetching data',\n            });\n            console.error('Error fetching data:', error);\n        });\n\n    \n    document.querySelector('#input-user').value = '';\n}\n"],"names":["API_KEY","baseURL","fetchData","userInput","page","per_page","params","url","response","createGallery","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","container","handleSubmit","currentPage","event","iziToast","data","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAU,2BAET,SAASC,EAAUC,EAAWC,EAAO,EAAGC,EAAW,IAAK,CAC7D,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKN,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAAC,EACA,SAAAC,CACJ,CAAG,EAEKE,EAAM,GAAGN,CAAO,IAAIK,EAAO,SAAU,CAAA,GAE3C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,CACL,CCdO,SAASC,EAAcC,EAAK,CAC/B,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,uBAE1EL,CAAa;AAAA,oBAChBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAWpCC,CAAK;AAAA,UACLC,CAAK;AAAA,UACLC,CAAQ;AAAA,UACRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOd,EAAE,KAAK,EAAE,CACd,CC5BA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAY,SAAS,cAAc,UAAU,EAEnDD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,IAAIC,EAAc,EAElB,SAASD,EAAaE,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMnB,EAAY,SAAS,cAAc,aAAa,EAAE,MAAM,OAE9D,GAAIA,IAAc,GAAI,CAClBoB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,6BACrB,CAAS,EACD,MACH,CAGDJ,EAAU,UAAY,GAEtBjB,EAAUC,EAAU,cAAekB,EAAa,GAAG,EAC9C,KAAKG,GAAQ,CACV,QAAQ,IAAI,gBAAiBA,CAAI,EAC7BA,EAAK,UAAY,GACjBL,EAAU,mBAAmB,YAAaV,EAAce,EAAK,IAAI,CAAC,EAEjD,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClC,CAAiB,EACQ,QAAO,GAGhBF,EAAS,KAAK,CACV,MAAO,aACP,QAAS,0EAC7B,CAAiB,CAEjB,CAAS,EACA,MAAMG,GAAS,CACZH,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qBACzB,CAAa,EACD,QAAQ,MAAM,uBAAwBG,CAAK,CACvD,CAAS,EAGL,SAAS,cAAc,aAAa,EAAE,MAAQ,EAClD"}